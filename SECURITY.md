# Безопасность

## ⚠️ Важные меры безопасности

### 1. Хранение токенов

**НИКОГДА не храните токены и секретные ключи в коде!**

- Используйте переменные окружения через файл `.env`
- Файл `.env` автоматически исключен из Git (см. `.gitignore`)
- Для production используйте безопасное хранилище секретов (например, Docker secrets, Kubernetes secrets)

### 2. Что делать, если токен был скомпрометирован

Если токен Telegram бота попал в публичный репозиторий:

1. **Немедленно отзовите токен:**
   - Откройте [@BotFather](https://t.me/BotFather) в Telegram
   - Отправьте `/revoke` и выберите вашего бота
   - Создайте новый токен

2. **Обновите токен везде:**
   - В файле `.env` на всех серверах
   - В переменных окружения Docker
   - В любых других местах использования

3. **Проверьте логи бота** на подозрительную активность

### 3. Настройка переменных окружения

#### Локальная разработка

Создайте файл `.env` в корне проекта:

```bash
cp env.example .env
nano .env
```

Заполните:
```env
TELEGRAM_BOT_TOKEN=ваш_токен_здесь
API_URL=http://localhost:5000
```

#### Production (Docker)

```bash
# Создайте .env файл
cp env.example .env
nano .env

# Запустите с использованием .env
docker-compose --env-file .env up -d
```

#### Production (переменные окружения системы)

```bash
export TELEGRAM_BOT_TOKEN="ваш_токен"
export API_URL="https://yourdomain.com"
python start_bot.py
```

### 4. Проверка безопасности

- ✅ Файл `.env` в `.gitignore`
- ✅ Токены не в коде
- ✅ Токены не в docker-compose.yml (используются переменные)
- ✅ Примеры используют placeholder `your_bot_token_here`

### 5. Дополнительные рекомендации

- Используйте HTTPS для API в production
- Ограничьте доступ к API через firewall
- Регулярно обновляйте зависимости
- Используйте сильные пароли для доступа к серверу
- Настройте автоматические бэкапы данных
- Мониторьте логи на подозрительную активность
