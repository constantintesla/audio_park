# Инструкция по настройке и запуску

## Быстрый старт

### 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 2. Настройка Telegram бота

1. Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания бота
4. Скопируйте токен бота (выглядит как `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 3. Настройка переменных окружения

**Токен бота обязателен!** Установите переменную окружения:

**Windows (PowerShell):**
```powershell
$env:TELEGRAM_BOT_TOKEN="ваш_токен_бота"
$env:API_URL="http://localhost:5000"
```

**Linux/Mac:**
```bash
export TELEGRAM_BOT_TOKEN="ваш_токен_бота"
export API_URL="http://localhost:5000"
```

### 4. Запуск системы

Откройте два терминала:

**Терминал 1 - API сервер:**
```bash
python start_api.py
```

Сервер запустится на `http://localhost:5000`

**Терминал 2 - Telegram бот:**
```bash
python start_bot.py
```

### 5. Использование

1. Откройте веб-интерфейс: `http://localhost:5000`
2. Найдите вашего бота в Telegram
3. Отправьте команду `/start`
4. Отправьте команду `/analyze`
5. Прочитайте фразу и отправьте голосовое сообщение
6. Результаты появятся на веб-сайте

## Структура файлов

- `results.json` - автоматически создается для хранения результатов
- `temp_voice_*.ogg` - временные файлы (автоматически удаляются)

## Устранение неполадок

### Бот не отвечает
- Проверьте, что токен правильный
- Убедитесь, что бот запущен
- Проверьте логи на наличие ошибок

### API не работает
- Проверьте, что порт 5000 свободен
- Убедитесь, что Flask установлен
- Проверьте логи на наличие ошибок

### Ошибки при обработке аудио
- Убедитесь, что все зависимости установлены
- Проверьте, что файл не поврежден
- Убедитесь, что длительность не превышает 60 секунд

## Производственное развертывание

Для production используйте:
- WSGI сервер (gunicorn, uwsgi) вместо встроенного Flask сервера
- Nginx как reverse proxy
- Supervisor или systemd для управления процессами
- PostgreSQL или MySQL вместо JSON файла для хранения результатов
